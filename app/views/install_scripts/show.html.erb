<div class="p-8 bg-white shadow rounded-lg">
  <h2 class="text-2xl font-semibold mb-4">Installation Script</h2>
  <p class="text-gray-600 mb-4">Paste this script into your website's &lt;head&gt; tag:</p>

  <pre class="bg-gray-100 p-4 rounded text-sm overflow-x-auto" id="install-script-code">&lt;script&gt;
  (function() {
    var script = document.createElement('script');
    script.src = '<%= @base_url %>/embed.js?api_key=<%= @user.api_key %>';
    script.async = true;
    document.head.appendChild(script);
  })();
&lt;/script&gt;</pre>

  <div class="mt-4 flex gap-2">
    <button onclick="copyToClipboard()" class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700">
      コピー
    </button>
  </div>
</div>

<script>
  function copyToClipboard() {
    const scriptElement = document.getElementById('install-script-code');
    const script = scriptElement.textContent || scriptElement.innerText;
    
    navigator.clipboard.writeText(script).then(function() {
      alert('スクリプトをクリップボードにコピーしました');
    }, function() {
      alert('コピーに失敗しました');
    });
  }
</script>
